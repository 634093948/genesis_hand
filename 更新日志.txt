========================================
  WanVideo Genesis æ›´æ–°æ—¥å¿—
========================================

## v3.0.1 (2025-11-13) ğŸ”§ é‡è¦ä¿®å¤

### ğŸ› ä¿®å¤çš„é—®é¢˜

1. **é‡‡æ ·å™¨åˆ—è¡¨ä¸å®Œæ•´**
   - I2V æ ‡ç­¾é¡µç°åœ¨æ˜¾ç¤ºæ‰€æœ‰ 97+ ç§é‡‡æ ·å™¨
   - ä¿®å¤äº†ç¡¬ç¼–ç çš„é‡‡æ ·å™¨åˆ—è¡¨é—®é¢˜
   - é»˜è®¤é‡‡æ ·å™¨æ”¹ä¸º `dpm++_sde` (InfiniteTalk æ¨è)

2. **InfiniteTalk ç”Ÿæˆé€»è¾‘é”™è¯¯**
   - ä½¿ç”¨æ­£ç¡®çš„ `WanVideoImageToVideoMultiTalk` èŠ‚ç‚¹
   - æ·»åŠ å®Œæ•´çš„éŸ³é¢‘å¤„ç†æµç¨‹:
     - Wav2Vec æ¨¡å‹åŠ è½½
     - éŸ³é¢‘æ–‡ä»¶å¤„ç†
     - éŸ³é¢‘åµŒå…¥åˆ›å»º
   - ä¿®å¤å‚æ•°åç§°:
     - ä½¿ç”¨ `frame_window_size` è€Œä¸æ˜¯ `num_frames`
     - æ·»åŠ  `motion_frame` å‚æ•°
     - æ­£ç¡®è®¾ç½® `mode='infinitetalk'`
   - éŸ³é¢‘åµŒå…¥æ­£ç¡®ä¼ é€’ç»™é‡‡æ ·å™¨

3. **WanAnimate å‚æ•°ä¼˜åŒ–**
   - æ·»åŠ  `tiled=False` å‚æ•°
   - æ”¹è¿›å§¿æ€å’Œé¢éƒ¨å›¾ç‰‡å¤„ç†
   - æ·»åŠ è¯¦ç»†çš„å¤„ç†æ—¥å¿—

4. **æŒ‰é’®ç‚¹å‡»è°ƒè¯•**
   - æ·»åŠ è¯¦ç»†çš„è°ƒè¯•è¾“å‡º
   - æ˜¾ç¤ºå‚æ•°æ•°é‡å’Œç±»å‹
   - æ”¹è¿›é”™è¯¯å¤„ç†å’Œæç¤º

### ğŸ“‹ å‚è€ƒå·¥ä½œæµ

**InfiniteTalk å®ç°å‚è€ƒ:**
- å·¥ä½œæµ: `Infinite Talk test(1).json`
- å…³é”®èŠ‚ç‚¹: WanVideoImageToVideoMultiTalk, MultiTalkWav2VecEmbeds
- æ¨èé‡‡æ ·å™¨: dpm++_sde

**WanAnimate å®ç°å‚è€ƒ:**
- å·¥ä½œæµ: `Animateä¸Šå¥½ä½³å·¥ä½œæµï¼ˆsecï¼‰.json`
- å…³é”®èŠ‚ç‚¹: WanVideoAnimateEmbeds
- æ¨èé‡‡æ ·å™¨: sa_ode_stable

### ğŸ” æŠ€æœ¯ç»†èŠ‚

**InfiniteTalk éŸ³é¢‘å¤„ç†æµç¨‹:**
```
1. åŠ è½½ Wav2Vec æ¨¡å‹
2. è¯»å–éŸ³é¢‘æ–‡ä»¶
3. åˆ›å»ºéŸ³é¢‘åµŒå…¥ (MultiTalkWav2VecEmbeds)
4. ä¼ é€’ç»™ WanVideoImageToVideoMultiTalk
5. éŸ³é¢‘åµŒå…¥ä½œä¸º multitalk_embeds ä¼ é€’ç»™é‡‡æ ·å™¨
```

**å‚æ•°æ˜ å°„:**
- Frame Window Size (InfiniteTalk): æ§åˆ¶æ¯ä¸ªçª—å£çš„å¸§æ•°
- Motion Frame: æ§åˆ¶çª—å£ä¹‹é—´çš„é‡å å¸§æ•°
- Frame Window Size (WanAnimate): æ§åˆ¶åŠ¨ç”»çª—å£å¤§å°

### âš ï¸ æ³¨æ„äº‹é¡¹

1. InfiniteTalk éœ€è¦ä¸“ç”¨æ¨¡å‹
2. éŸ³é¢‘æ–‡ä»¶å¯é€‰,æ²¡æœ‰éŸ³é¢‘ä¹Ÿèƒ½ç”Ÿæˆ
3. å¦‚æœéŸ³é¢‘å¤„ç†å¤±è´¥,ä¼šç»§ç»­ç”Ÿæˆ(ä¸å¸¦éŸ³é¢‘)
4. æ‰€æœ‰è°ƒè¯•ä¿¡æ¯ä¼šè¾“å‡ºåˆ°æ§åˆ¶å°

---

## v3.0 (2025-11-13) ğŸ‰ é‡å¤§æ›´æ–°

### âœ¨ æ–°åŠŸèƒ½ - å›¾ç”Ÿè§†é¢‘ (Image to Video)

1. **å…¨æ–° I2V æ ‡ç­¾é¡µ**
   - ç‹¬ç«‹çš„å›¾ç”Ÿè§†é¢‘ç•Œé¢
   - æ”¯æŒä¸Šä¼ å›¾ç‰‡ç”Ÿæˆè§†é¢‘
   - å®Œæ•´çš„å‚æ•°æ§åˆ¶

2. **ä¸‰ç§ I2V æ¨¡å¼**
   - **Standard I2V** - æ ‡å‡†å›¾ç”Ÿè§†é¢‘
   - **InfiniteTalk** - é•¿è§†é¢‘ç”Ÿæˆ,æ”¯æŒéŸ³é¢‘é©±åŠ¨
   - **WanAnimate** - é«˜çº§åŠ¨ç”»ç”Ÿæˆ,æ”¯æŒå§¿æ€å’Œé¢éƒ¨æ§åˆ¶

3. **InfiniteTalk åŠŸèƒ½**
   - éŸ³é¢‘æ–‡ä»¶è¾“å…¥æ”¯æŒ
   - Frame Window Size æ§åˆ¶
   - Motion Frame è®¾ç½®
   - é€‚åˆç”Ÿæˆè¯´è¯äººç‰©è§†é¢‘

4. **WanAnimate åŠŸèƒ½**
   - å§¿æ€å›¾ç‰‡è¾“å…¥
   - é¢éƒ¨å›¾ç‰‡è¾“å…¥
   - Pose Strength æ§åˆ¶
   - Face Strength æ§åˆ¶
   - Color Match çª—å£é¢œè‰²åŒ¹é…
   - é€‚åˆç”Ÿæˆé«˜è´¨é‡åŠ¨ç”»

5. **å®Œæ•´æ¨¡å‹æ”¯æŒ**
   - æ”¯æŒæ‰€æœ‰ Diffusion æ¨¡å‹
   - æ”¯æŒæ‰€æœ‰ VAE æ¨¡å‹
   - æ”¯æŒæ‰€æœ‰ T5 ç¼–ç å™¨
   - æ”¯æŒé‡åŒ–å’Œæ³¨æ„åŠ›æ¨¡å¼

6. **é«˜çº§è®¾ç½®**
   - Base Precision é€‰æ‹©
   - Quantization é€‰æ‹©
   - Attention Mode é€‰æ‹©
   - æ‰€æœ‰é‡‡æ ·å™¨æ”¯æŒ (97+ç§)

### ğŸ¯ ä½¿ç”¨åœºæ™¯

**Standard I2V:**
```
é€‚ç”¨äº: é€šç”¨å›¾ç‰‡è½¬è§†é¢‘
è¾“å…¥: å•å¼ å›¾ç‰‡ + æç¤ºè¯
è¾“å‡º: æ ‡å‡†è§†é¢‘
```

**InfiniteTalk:**
```
é€‚ç”¨äº: äººç‰©è¯´è¯è§†é¢‘
è¾“å…¥: äººç‰©å›¾ç‰‡ + éŸ³é¢‘æ–‡ä»¶ (å¯é€‰)
è¾“å‡º: é•¿è§†é¢‘,æ”¯æŒéŸ³é¢‘åŒæ­¥
ç‰¹ç‚¹: çª—å£åŒ–ç”Ÿæˆ,æ”¯æŒè¶…é•¿è§†é¢‘
```

**WanAnimate:**
```
é€‚ç”¨äº: é«˜è´¨é‡åŠ¨ç”»
è¾“å…¥: å‚è€ƒå›¾ç‰‡ + å§¿æ€/é¢éƒ¨å›¾ç‰‡ (å¯é€‰)
è¾“å‡º: é«˜è´¨é‡åŠ¨ç”»è§†é¢‘
ç‰¹ç‚¹: ç²¾ç¡®æ§åˆ¶å§¿æ€å’Œè¡¨æƒ…
```

### ğŸ“Š æ¨èé…ç½®

**Standard I2V å¿«é€Ÿ:**
```
Mode: Standard I2V
Resolution: 832x480
Frames: 81
Steps: 30
Scheduler: unipc
CFG: 6.0
```

**InfiniteTalk é•¿è§†é¢‘:**
```
Mode: InfiniteTalk
Resolution: 832x480
Frames: 161+
Frame Window: 77
Motion Frame: 4
Steps: 30
Scheduler: res_2m
```

**WanAnimate é«˜è´¨é‡:**
```
Mode: WanAnimate
Resolution: 832x480
Frames: 81
Frame Window: 77
Pose Strength: 1.0
Face Strength: 1.0
Steps: 30
Scheduler: res_5s
```

### ğŸ”§ æŠ€æœ¯ç‰¹æ€§

- è‡ªåŠ¨å›¾ç‰‡é¢„å¤„ç†å’Œç¼©æ”¾
- æ”¯æŒ PIL Image å’Œ Tensor è¾“å…¥
- å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—
- è¿›åº¦æ¡æ˜¾ç¤º
- å¸§é¢„è§ˆåŠŸèƒ½
- å…ƒæ•°æ®å¯¼å‡º

### ğŸ“ æ³¨æ„äº‹é¡¹

1. **è¾“å…¥å›¾ç‰‡è¦æ±‚**
   - æ¨èåˆ†è¾¨ç‡: 832x480 æˆ–æ›´é«˜
   - æ ¼å¼: JPG, PNG, WebP
   - InfiniteTalk: å»ºè®®ä½¿ç”¨äººç‰©æ­£é¢ç…§
   - WanAnimate: å»ºè®®æä¾›æ¸…æ™°çš„å‚è€ƒå›¾

2. **æ¨¡å‹é€‰æ‹©**
   - InfiniteTalk éœ€è¦ä¸“ç”¨æ¨¡å‹ (å¦‚ Wan2_1-InfiniteTalk)
   - WanAnimate éœ€è¦ä¸“ç”¨æ¨¡å‹ (å¦‚ wan2.2_animate)
   - Standard I2V å¯ä½¿ç”¨ä»»ä½• I2V æ¨¡å‹

3. **æ€§èƒ½ä¼˜åŒ–**
   - ä½¿ç”¨é‡åŒ–å¯å‡å°‘æ˜¾å­˜å ç”¨
   - Frame Window Size å½±å“æ˜¾å­˜å’Œé€Ÿåº¦
   - é•¿è§†é¢‘å»ºè®®ä½¿ç”¨ InfiniteTalk æ¨¡å¼

---

## v2.3 (2025-11-13)

### âœ¨ æ–°åŠŸèƒ½

1. **RES4LYF é«˜çº§é‡‡æ ·å™¨é›†æˆ**
   - æ·»åŠ  70+ ç§é«˜çº§ Runge-Kutta é‡‡æ ·å™¨
   - åŒ…å« Explicit, Implicit, Diagonally Implicit ä¸‰å¤§ç±»
   - åŸºäºæ•°å€¼åˆ†æçš„é«˜ç²¾åº¦é‡‡æ ·æ–¹æ³•

2. **é‡‡æ ·å™¨æ€»æ•°è¾¾åˆ° 97+**
   - WanVideo æ ‡å‡†é‡‡æ ·å™¨: 19ç§
   - IChingWuxing æ˜“ç»äº”è¡Œ: 7ç§
   - RES4LYF é«˜çº§é‡‡æ ·å™¨: 71ç§

### ğŸ”¬ RES4LYF é‡‡æ ·å™¨åˆ†ç±»

**Explicit æ˜¾å¼é‡‡æ ·å™¨** (40+ç§):
- RES ç³»åˆ—: res_2m, res_2s, res_3s, res_5s
- DEIS ç³»åˆ—: deis_2m, deis_3m, deis_4m
- DPM++ ç³»åˆ—: dpmpp_2m, dpmpp_3m, dpmpp_2s, dpmpp_3s, dpmpp_sde_2s
- Ralston ç³»åˆ—: ralston_2s, ralston_3s, ralston_4s
- ç»å…¸ RK: rk4_4s, rk38_4s, dormand-prince_6s/13s
- å…¶ä»–: midpoint, heun, kutta, ssprk3, bogacki-shampine

**Implicit éšå¼é‡‡æ ·å™¨** (20+ç§):
- Gauss-Legendre: gauss-legendre_2s/3s/4s/5s
- Radau: radau_ia/iia_2s/3s
- Lobatto: lobatto_iii(a/b/c/d/star)_2s/3s

**Diagonally Implicit å¯¹è§’éšå¼** (7ç§):
- crouzeix_2s/3s
- pareschi_russo_2s/alt_2s
- qin_zhang_2s
- kraaijevanger_spijker_2s
- irk_exp_diag_2s

### ğŸ“Š æ€§èƒ½ç‰¹ç‚¹

**é€Ÿåº¦æ’å:**
1. res_2m, dpmpp_2m (æœ€å¿«)
2. res_2s, dpmpp_2s
3. res_3s, dpmpp_3s
4. res_5s
5. gauss-legendre_5s (æœ€æ…¢ä½†è´¨é‡æœ€é«˜)

**è´¨é‡æ’å:**
1. gauss-legendre_5s (æè‡´è´¨é‡)
2. res_5s (æœ€ä½³å¹³è¡¡)
3. res_3s
4. res_2s
5. res_2m

### ğŸ’¡ æ¨èé…ç½®

**RES4LYF å¿«é€Ÿ:**
```
Sampler: res_2m
Steps: 20
CFG: 6.0
```

**RES4LYF é«˜è´¨é‡:**
```
Sampler: res_5s
Steps: 15
CFG: 7.0
```

**RES4LYF æè‡´:**
```
Sampler: gauss-legendre_5s
Steps: 10
CFG: 8.0
```

---

## v2.2 (2025-11-13)

### âœ¨ æ–°åŠŸèƒ½

1. **å®Œæ•´é‡åŒ–æ”¯æŒ**
   - æ·»åŠ  Base Precision é€‰æ‹©(7ç§é€‰é¡¹)
   - æ·»åŠ å®Œæ•´çš„ Quantization é€‰æ‹©(12ç§é€‰é¡¹)
   - æ”¯æŒ FP8ã€FP4 ç­‰å¤šç§é‡åŒ–æ–¹å¼

2. **å®Œæ•´æ³¨æ„åŠ›æ¨¡å¼æ”¯æŒ**
   - æ·»åŠ  8 ç§ Attention Mode é€‰æ‹©
   - åŒ…å« Flash Attention 2/3
   - å®Œæ•´çš„ SageAttention ç³»åˆ—æ”¯æŒ
   - æ”¯æŒ FP4/FP8 åŠ é€Ÿæ¨¡å¼

3. **é‡åŒ–ä¸æ³¨æ„åŠ›æŒ‡å—**
   - æ–°å¢ "âš™ï¸ Quantization & Attention" æ ‡ç­¾é¡µ
   - è¯¦ç»†è¯´æ˜å„ç§é‡åŒ–æ–¹å¼çš„ç‰¹ç‚¹
   - æä¾›ä¸åŒæ˜¾å¡çš„æ¨èé…ç½®
   - æ€§èƒ½å¯¹æ¯”è¡¨æ ¼

### ğŸ“¦ é‡åŒ–é€‰é¡¹

**Base Precision:**
- disabled (è‡ªåŠ¨æ£€æµ‹)
- fp32, bf16, fp16
- fp16_fast
- fp8_e4m3fn, fp8_e4m3fn_fast

**Quantization:**
- FP8 E4M3FN: fp8_e4m3fn, fp8_e4m3fn_fast, fp8_e4m3fn_scaled, fp8_e4m3fn_scaled_fast
- FP8 E5M2: fp8_e5m2, fp8_e5m2_fast, fp8_e5m2_scaled, fp8_e5m2_scaled_fast
- FP4: fp4_experimental, fp4_scaled, fp4_scaled_fast

### ğŸ§  æ³¨æ„åŠ›æ¨¡å¼

- sdpa (æ ‡å‡†)
- flash_attn_2, flash_attn_3
- sageattn, sageattn_3
- sageattn_3_fp8 (æœ€å¿«)
- sageattn_3_fp4 (RTX 5090ä¸“ç”¨)
- radial_sage_attention

### ğŸ® æ˜¾å¡æ¨èé…ç½®

**RTX 5090:**
```
Base: fp8_e4m3fn_fast
Quant: fp4_scaled_fast
Attn: sageattn_3_fp4
```

**RTX 4090/4080:**
```
Base: bf16
Quant: fp8_e4m3fn_fast
Attn: sageattn_3_fp8
```

**RTX 3090/3080:**
```
Base: bf16
Quant: fp8_e5m2
Attn: sageattn
```

---

## v2.1 (2025-11-13)

### âœ¨ æ–°åŠŸèƒ½

1. **å®Œæ•´é‡‡æ ·å™¨æ”¯æŒ**
   - æ·»åŠ äº† 27 ç§é‡‡æ ·å™¨é€‰æ‹©
   - åŒ…å«æ‰€æœ‰ ComfyUI-WanVideoWrapper æ”¯æŒçš„é‡‡æ ·å™¨
   - ç‰¹åˆ«æ·»åŠ æ˜“ç»äº”è¡Œ(IChingWuxing)ç³»åˆ—é‡‡æ ·å™¨

2. **æ˜“ç»äº”è¡Œé‡‡æ ·å™¨**
   åŸºäºä¸­å›½ä¼ ç»Ÿæ˜“ç»äº”è¡Œç†è®ºçš„åˆ›æ–°é‡‡æ ·å™¨:
   - iching/wuxing - æ ‡å‡†äº”è¡Œæ¨¡å¼
   - iching/wuxing-strong - å¼ºåŒ–æ¨¡å¼
   - iching/wuxing-stable - ç¨³å®šæ¨¡å¼
   - iching/wuxing-smooth - å¹³æ»‘æ¨¡å¼
   - iching/wuxing-clean - æ¸…æ™°æ¨¡å¼
   - iching/wuxing-sharp - é”åŒ–æ¨¡å¼
   - iching/wuxing-lowstep - ä½æ­¥æ•°ä¼˜åŒ–

3. **é‡‡æ ·å™¨ä½¿ç”¨æŒ‡å—**
   - æ–°å¢ "Scheduler Guide" æ ‡ç­¾é¡µ
   - è¯¦ç»†è¯´æ˜æ¯ä¸ªé‡‡æ ·å™¨çš„ç‰¹ç‚¹
   - æä¾›å‚æ•°å»ºè®®å’Œä½¿ç”¨æŠ€å·§
   - ä¸­æ–‡è¯´æ˜,æ˜“äºç†è§£

### ğŸ”§ é‡‡æ ·å™¨åˆ—è¡¨

**å¿«é€Ÿé‡‡æ ·å™¨ (4-8æ­¥):**
- unipc, dpm++, euler
- sa_ode_stable/lowstep
- ode/+
- rcm
- lcm, lcm/beta, humo_lcm

**æ ‡å‡†é‡‡æ ·å™¨ (20-30æ­¥):**
- unipc, unipc/beta
- dpm++, dpm++/beta
- dpm++_sde, dpm++_sde/beta
- euler, euler/beta
- res_multistep

**é«˜è´¨é‡é‡‡æ ·å™¨ (50+æ­¥):**
- dpm++/beta
- deis
- flowmatch_sa_ode_stable

**ç‰¹æ®Šç”¨é€”:**
- flowmatch_pusa
- flowmatch_causvid
- flowmatch_distill
- flowmatch_lowstep_d
- multitalk

### ğŸ“– ä½¿ç”¨å»ºè®®

**å¿«é€Ÿæµ‹è¯•:**
```
é‡‡æ ·å™¨: unipc
æ­¥æ•°: 4
CFG: 1.0
Shift: 5.0
```

**æ ‡å‡†è´¨é‡:**
```
é‡‡æ ·å™¨: unipc æˆ– iching/wuxing
æ­¥æ•°: 30
CFG: 6.0
Shift: 5.0
```

**æœ€ä½³è´¨é‡:**
```
é‡‡æ ·å™¨: dpm++/beta
æ­¥æ•°: 50
CFG: 8.0
Shift: 5.0
```

**æ˜“ç»é£æ ¼ - äººç‰©:**
```
é‡‡æ ·å™¨: iching/wuxing-stable æˆ– iching/wuxing-smooth
æ­¥æ•°: 30
CFG: 6.0
Shift: 6.0
```

**æ˜“ç»é£æ ¼ - é£æ™¯:**
```
é‡‡æ ·å™¨: iching/wuxing-strong æˆ– iching/wuxing-sharp
æ­¥æ•°: 30
CFG: 7.0
Shift: 6.0
```

---

## v2.0 (2025-11-13)

### ğŸ‰ é‡å¤§ä¿®å¤

1. **ä¿®å¤è§†é¢‘ç”Ÿæˆæ ¸å¿ƒé—®é¢˜**
   - ä¿®å¤ text_embeds ä¼ é€’é—®é¢˜
   - ç¦ç”¨ latent preview é¿å…ç»´åº¦é”™è¯¯
   - ä¿®å¤ ProgressBar å‚æ•°é—®é¢˜

2. **æ¨¡å‹åŠ è½½ä¼˜åŒ–**
   - ä¿®å¤ T5 æ¨¡å‹æ‰«æè·¯å¾„
   - æ­£ç¡®æ‰«æ text_encoders ç›®å½•
   - æ·»åŠ è¯¦ç»†çš„è°ƒè¯•æ—¥å¿—

3. **å…¼å®¹æ€§æ”¹è¿›**
   - å®Œå–„ ComfyUI stub å®ç°
   - ä¿®å¤ ModelPatcher å±æ€§è½¬å‘
   - æ·»åŠ  latent_format æ”¯æŒ

### ğŸ› å·²çŸ¥é—®é¢˜ä¿®å¤

- âœ… ä¿®å¤ "mat1 and mat2 shapes cannot be multiplied" é”™è¯¯
- âœ… ä¿®å¤ "NoneType has no attribute send_sync" é”™è¯¯
- âœ… ä¿®å¤ T5 æ¨¡å‹åªæ˜¾ç¤º 2 ä¸ªçš„é—®é¢˜
- âœ… ä¿®å¤ latent preview ç»´åº¦ä¸åŒ¹é…

---

## v1.0 (åˆå§‹ç‰ˆæœ¬)

### åŸºç¡€åŠŸèƒ½

- Text-to-Video è§†é¢‘ç”Ÿæˆ
- æ¨¡å‹ã€VAEã€T5 é€‰æ‹©
- åŸºç¡€å‚æ•°è°ƒæ•´
- LoRA æ”¯æŒ
- ä¼˜åŒ–é€‰é¡¹(Compile, Block Swap)

========================================
