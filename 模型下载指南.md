# InfiniteTalk æ¨¡å‹ä¸‹è½½å®Œæ•´æŒ‡å—

## ğŸ“‹ å¿«é€Ÿæ€»ç»“

ä½ ç›®å‰**ç¼ºå°‘æ‰€æœ‰ WanVideo ç›¸å…³æ¨¡å‹**ï¼Œéœ€è¦ä¸‹è½½çº¦ **12-16 GB** çš„æ¨¡å‹æ–‡ä»¶ã€‚

---

## âœ… å·²æœ‰çš„æ–‡ä»¶

- âœ… **æ‰€æœ‰ Python ä¾èµ–** (17/17 å·²å®‰è£…)
- âœ… **encoded_silence.safetensors** (1.6 MB) - é™éŸ³åµŒå…¥
- âœ… **wav2vec2_config.json** - Wav2Vec é…ç½®

---

## âš ï¸ éœ€è¦ä¸‹è½½çš„æ¨¡å‹

### å¿…éœ€æ¨¡å‹ï¼ˆæ— éŸ³é¢‘æ¨¡å¼ï¼‰

| æ¨¡å‹ | å¤§å° | ç”¨é€” | ä¼˜å…ˆçº§ |
|------|------|------|--------|
| **WanVideo ä¸»æ¨¡å‹** | ~10 GB | å›¾ç”Ÿè§†é¢‘æ ¸å¿ƒæ¨¡å‹ | ğŸ”´ æœ€é«˜ |
| **VAE æ¨¡å‹** | ~300 MB | è§†é¢‘ç¼–ç /è§£ç  | ğŸ”´ æœ€é«˜ |
| **MultiTalk æ¨¡å‹** | ~2 GB | InfiniteTalk åŠŸèƒ½ | ğŸ”´ æœ€é«˜ |

**å°è®¡**: ~12.3 GB

### æ¨èæ¨¡å‹

| æ¨¡å‹ | å¤§å° | ç”¨é€” | ä¼˜å…ˆçº§ |
|------|------|------|--------|
| **CLIP Vision** | ~3.7 GB | å›¾åƒç†è§£ï¼ˆæå‡è´¨é‡ï¼‰| ğŸŸ¡ ä¸­ç­‰ |

**æ¨èæ€»è®¡**: ~16 GB

### å¯é€‰æ¨¡å‹ï¼ˆå¸¦éŸ³é¢‘æ¨¡å¼ï¼‰

| æ¨¡å‹ | å¤§å° | ç”¨é€” | ä¼˜å…ˆçº§ |
|------|------|------|--------|
| **Wav2Vec** | ~300 MB | éŸ³é¢‘ç‰¹å¾æå– | ğŸŸ¢ ä½ï¼ˆå¯é€‰ï¼‰|

**å®Œæ•´æ€»è®¡**: ~16.3 GB

---

## ğŸš€ ä¸‰ç§ä¸‹è½½æ–¹æ³•

### æ–¹æ³• 1ï¼šè‡ªåŠ¨ä¸‹è½½è„šæœ¬ï¼ˆæ¨èï¼‰â­

æœ€ç®€å•çš„æ–¹æ³•ï¼Œä¸€é”®ä¸‹è½½æ‰€æœ‰éœ€è¦çš„æ¨¡å‹ã€‚

```bash
# è¿è¡Œä¸‹è½½è„šæœ¬
python download_models.py
```

**æ­¥éª¤**ï¼š
1. è„šæœ¬ä¼šæ£€æŸ¥ huggingface-hub æ˜¯å¦å·²å®‰è£…
2. æ˜¾ç¤ºå¯ä¸‹è½½çš„æ¨¡å‹åˆ—è¡¨
3. é€‰æ‹©ä¸‹è½½æ¨¡å¼ï¼š
   - `[a]` ä¸‹è½½å¿…éœ€æ¨¡å‹ (~12 GB)
   - `[b]` ä¸‹è½½æ‰€æœ‰æ¨¡å‹ (~16 GB)
   - `[c]` è‡ªå®šä¹‰é€‰æ‹©
4. ç¡®è®¤åè‡ªåŠ¨ä¸‹è½½

**ä¼˜ç‚¹**ï¼š
- âœ… è‡ªåŠ¨åˆ›å»ºç›®å½•
- âœ… æ£€æŸ¥å·²å­˜åœ¨æ–‡ä»¶
- âœ… æ˜¾ç¤ºä¸‹è½½è¿›åº¦
- âœ… é”™è¯¯å¤„ç†

---

### æ–¹æ³• 2ï¼šä½¿ç”¨ Hugging Face CLI

æ‰‹åŠ¨ä½¿ç”¨å‘½ä»¤è¡Œä¸‹è½½ï¼Œæ›´çµæ´»ã€‚

#### æ­¥éª¤ 1ï¼šå®‰è£… huggingface-hub

```bash
pip install huggingface-hub
```

#### æ­¥éª¤ 2ï¼šä¸‹è½½æ¨¡å‹

```bash
# 1. WanVideo ä¸»æ¨¡å‹ (GGUF Q8_0, ~10 GB)
huggingface-cli download city96/Wan2.1-I2V-14B-480P-gguf \
  wan2.1-i2v-14b-480p-Q8_0.gguf \
  --local-dir models/wanvideo \
  --local-dir-use-symlinks False

# 2. VAE æ¨¡å‹ (~300 MB)
huggingface-cli download Kijai/WanVideo_comfy \
  Wan2_1_VAE_bf16.safetensors \
  --local-dir models/wanvideo \
  --local-dir-use-symlinks False

# 3. MultiTalk æ¨¡å‹ (~2 GB)
huggingface-cli download Kijai/WanVideo_comfy_GGUF \
  InfiniteTalk/multitalk_model.safetensors \
  --local-dir models/wanvideo/InfiniteTalk \
  --local-dir-use-symlinks False

# 4. CLIP Vision (å¯é€‰, ~3.7 GB)
huggingface-cli download h94/IP-Adapter \
  models/image_encoder/model.safetensors \
  --local-dir models/clip_vision \
  --local-dir-use-symlinks False

# 5. Wav2Vec (å¯é€‰, ~300 MB)
huggingface-cli download TencentGameMate/chinese-wav2vec2-base \
  --local-dir models/wav2vec2 \
  --local-dir-use-symlinks False
```

---

### æ–¹æ³• 3ï¼šæ‰‹åŠ¨ä¸‹è½½

å¦‚æœç½‘ç»œé—®é¢˜æˆ–éœ€è¦æ›´å¤šæ§åˆ¶ã€‚

#### æ­¥éª¤ 1ï¼šè®¿é—® Hugging Face

**WanVideo ä¸»æ¨¡å‹**:
```
https://huggingface.co/city96/Wan2.1-I2V-14B-480P-gguf/tree/main
```
ä¸‹è½½: `wan2.1-i2v-14b-480p-Q8_0.gguf`
æ”¾ç½®åˆ°: `models/wanvideo/`

**VAE æ¨¡å‹**:
```
https://huggingface.co/Kijai/WanVideo_comfy/tree/main
```
ä¸‹è½½: `Wan2_1_VAE_bf16.safetensors`
æ”¾ç½®åˆ°: `models/wanvideo/`

**MultiTalk æ¨¡å‹**:
```
https://huggingface.co/Kijai/WanVideo_comfy_GGUF/tree/main/InfiniteTalk
```
ä¸‹è½½: `multitalk_model.safetensors`
æ”¾ç½®åˆ°: `models/wanvideo/InfiniteTalk/`

**CLIP Vision** (å¯é€‰):
```
https://huggingface.co/h94/IP-Adapter/tree/main/models/image_encoder
```
ä¸‹è½½: `model.safetensors`
é‡å‘½åä¸º: `clip_vision_h.safetensors`
æ”¾ç½®åˆ°: `models/clip_vision/`

**Wav2Vec** (å¯é€‰):
```
https://huggingface.co/TencentGameMate/chinese-wav2vec2-base
```
ä¸‹è½½æ‰€æœ‰æ–‡ä»¶
æ”¾ç½®åˆ°: `models/wav2vec2/`

---

## ğŸ“ æœ€ç»ˆç›®å½•ç»“æ„

ä¸‹è½½å®Œæˆåï¼Œä½ çš„ç›®å½•åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š

```
genesis_hand/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ wanvideo/
â”‚   â”‚   â”œâ”€â”€ wan2.1-i2v-14b-480p-Q8_0.gguf          (~10 GB)
â”‚   â”‚   â”œâ”€â”€ Wan2_1_VAE_bf16.safetensors            (~300 MB)
â”‚   â”‚   â””â”€â”€ InfiniteTalk/
â”‚   â”‚       â””â”€â”€ multitalk_model.safetensors        (~2 GB)
â”‚   â”œâ”€â”€ clip_vision/
â”‚   â”‚   â””â”€â”€ clip_vision_h.safetensors              (~3.7 GB)
â”‚   â””â”€â”€ wav2vec2/
â”‚       â”œâ”€â”€ pytorch_model.bin                      (~300 MB)
â”‚       â”œâ”€â”€ config.json
â”‚       â””â”€â”€ preprocessor_config.json
â””â”€â”€ genesis/
    â””â”€â”€ custom_nodes/
        â””â”€â”€ Comfyui/
            â””â”€â”€ ComfyUI-WanVideoWrapper/
                â””â”€â”€ multitalk/
                    â”œâ”€â”€ encoded_silence.safetensors âœ… (å·²æœ‰)
                    â””â”€â”€ wav2vec2_config.json        âœ… (å·²æœ‰)
```

---

## âœ”ï¸ éªŒè¯ä¸‹è½½

ä¸‹è½½å®Œæˆåï¼Œè¿è¡ŒéªŒè¯è„šæœ¬ï¼š

```bash
python check_infinitetalk_deps.py
```

**é¢„æœŸè¾“å‡º**ï¼š
```
âœ… æ‰€æœ‰ Python ä¾èµ–éƒ½å·²å®‰è£…ï¼
âœ… WanVideo ä¸»æ¨¡å‹ - å­˜åœ¨
âœ… VAE æ¨¡å‹ - å­˜åœ¨
âœ… MultiTalk æ¨¡å‹ - å­˜åœ¨
âœ… CLIP Vision - å­˜åœ¨ï¼ˆå¦‚æœä¸‹è½½äº†ï¼‰
âš ï¸  Wav2Vec æ¨¡å‹ - ä¸å­˜åœ¨ï¼ˆæ— éŸ³é¢‘æ¨¡å¼ä¸éœ€è¦ï¼‰
```

---

## ğŸ¯ æ ¹æ®ä½ çš„éœ€æ±‚é€‰æ‹©

### åœºæ™¯ 1ï¼šåªæƒ³å¿«é€Ÿæµ‹è¯•ï¼ˆæ— éŸ³é¢‘ï¼‰
**ä¸‹è½½**ï¼š
- WanVideo ä¸»æ¨¡å‹ (~10 GB)
- VAE (~300 MB)
- MultiTalk (~2 GB)

**æ€»è®¡**: ~12.3 GB
**æ—¶é—´**: æ ¹æ®ç½‘é€Ÿï¼Œçº¦ 1-3 å°æ—¶

**å‘½ä»¤**ï¼š
```bash
python download_models.py
# é€‰æ‹© [a] ä¸‹è½½æ‰€æœ‰å¿…éœ€æ¨¡å‹
```

---

### åœºæ™¯ 2ï¼šæƒ³è¦æ›´å¥½çš„è´¨é‡
**ä¸‹è½½**ï¼š
- åœºæ™¯ 1 çš„æ‰€æœ‰æ¨¡å‹
- CLIP Vision (~3.7 GB)

**æ€»è®¡**: ~16 GB
**æ—¶é—´**: çº¦ 1.5-4 å°æ—¶

**å‘½ä»¤**ï¼š
```bash
python download_models.py
# é€‰æ‹© [b] ä¸‹è½½æ‰€æœ‰æ¨¡å‹ï¼ˆä¸åŒ…æ‹¬ Wav2Vecï¼‰
```

---

### åœºæ™¯ 3ï¼šéœ€è¦éŸ³é¢‘åŠŸèƒ½
**ä¸‹è½½**ï¼š
- åœºæ™¯ 2 çš„æ‰€æœ‰æ¨¡å‹
- Wav2Vec (~300 MB)

**æ€»è®¡**: ~16.3 GB
**æ—¶é—´**: çº¦ 1.5-4 å°æ—¶

**å‘½ä»¤**ï¼š
```bash
python download_models.py
# é€‰æ‹© [b] ä¸‹è½½æ‰€æœ‰æ¨¡å‹
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q1: ä¸‹è½½é€Ÿåº¦å¾ˆæ…¢æ€ä¹ˆåŠï¼Ÿ
**A**: 
1. ä½¿ç”¨å›½å†…é•œåƒï¼ˆå¦‚æœæœ‰ï¼‰
2. ä½¿ç”¨ä¸‹è½½å·¥å…·ï¼ˆå¦‚ aria2ï¼‰
3. åˆ†æ‰¹ä¸‹è½½ï¼Œä¸è¦ä¸€æ¬¡ä¸‹è½½æ‰€æœ‰

### Q2: ä¸‹è½½ä¸­æ–­äº†æ€ä¹ˆåŠï¼Ÿ
**A**: 
- é‡æ–°è¿è¡Œ `python download_models.py`
- è„šæœ¬ä¼šè‡ªåŠ¨è·³è¿‡å·²ä¸‹è½½çš„æ–‡ä»¶
- æˆ–ä½¿ç”¨ `huggingface-cli` çš„ `--resume-download` é€‰é¡¹

### Q3: ç£ç›˜ç©ºé—´ä¸å¤Ÿæ€ä¹ˆåŠï¼Ÿ
**A**: 
1. åªä¸‹è½½å¿…éœ€æ¨¡å‹ (~12 GB)
2. è·³è¿‡ CLIP Visionï¼ˆå¯é€‰ï¼‰
3. è€ƒè™‘ä½¿ç”¨æ›´å°çš„æ¨¡å‹ç‰ˆæœ¬ï¼ˆå¦‚ FP8ï¼‰

### Q4: å¯ä»¥ä»å…¶ä»–åœ°æ–¹ä¸‹è½½å—ï¼Ÿ
**A**: 
- å¯ä»¥ä»å…¶ä»– Hugging Face é•œåƒä¸‹è½½
- å¯ä»¥ä»ç™¾åº¦ç½‘ç›˜ç­‰åˆ†äº«é“¾æ¥ä¸‹è½½
- ç¡®ä¿æ–‡ä»¶å®Œæ•´æ€§ï¼ˆæ£€æŸ¥æ–‡ä»¶å¤§å°ï¼‰

### Q5: ä¸‹è½½åè¿˜éœ€è¦åšä»€ä¹ˆï¼Ÿ
**A**: 
1. è¿è¡Œ `python check_infinitetalk_deps.py` éªŒè¯
2. å¯åŠ¨ Gradio UI: `python genesis/apps/wanvideo_gradio_app.py`
3. æµ‹è¯•æ— éŸ³é¢‘æ¨¡å¼

---

## ğŸ“Š ä¸‹è½½è¿›åº¦è·Ÿè¸ª

ä½¿ç”¨è¿™ä¸ªæ¸…å•è·Ÿè¸ªä½ çš„ä¸‹è½½è¿›åº¦ï¼š

- [ ] **WanVideo ä¸»æ¨¡å‹** (wan2.1-i2v-14b-480p-Q8_0.gguf)
  - å¤§å°: ~10 GB
  - ä½ç½®: models/wanvideo/
  
- [ ] **VAE æ¨¡å‹** (Wan2_1_VAE_bf16.safetensors)
  - å¤§å°: ~300 MB
  - ä½ç½®: models/wanvideo/
  
- [ ] **MultiTalk æ¨¡å‹** (multitalk_model.safetensors)
  - å¤§å°: ~2 GB
  - ä½ç½®: models/wanvideo/InfiniteTalk/
  
- [ ] **CLIP Vision** (å¯é€‰)
  - å¤§å°: ~3.7 GB
  - ä½ç½®: models/clip_vision/
  
- [ ] **Wav2Vec** (å¯é€‰)
  - å¤§å°: ~300 MB
  - ä½ç½®: models/wav2vec2/

---

## ğŸš€ ä¸‹è½½å®Œæˆå

### 1. éªŒè¯æ¨¡å‹
```bash
python check_infinitetalk_deps.py
```

### 2. å¯åŠ¨ UI
```bash
python genesis/apps/wanvideo_gradio_app.py
```

### 3. æµ‹è¯•ç”Ÿæˆ
- ä¸Šä¼ ä¸€å¼ å›¾ç‰‡
- é€‰æ‹© InfiniteTalk æ¨¡å¼
- ä¸ä¸Šä¼ éŸ³é¢‘ï¼ˆæµ‹è¯•æ— éŸ³é¢‘æ¨¡å¼ï¼‰
- ç‚¹å‡»ç”Ÿæˆ

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **INFINITETALK_MODELS_NEEDED.md** - è¯¦ç»†çš„æ¨¡å‹è¯´æ˜
- **INFINITETALK_DEPS_COMPLETE.md** - å®Œæ•´ä¾èµ–æŠ¥å‘Š
- **INFINITETALK_READY.md** - å‡†å¤‡å°±ç»ªæ£€æŸ¥
- **download_models.py** - è‡ªåŠ¨ä¸‹è½½è„šæœ¬
- **check_infinitetalk_deps.py** - ä¾èµ–æ£€æŸ¥è„šæœ¬

---

**å»ºè®®**: ä»å¿…éœ€æ¨¡å‹å¼€å§‹ï¼ˆ~12 GBï¼‰ï¼Œæµ‹è¯•æˆåŠŸåå†è€ƒè™‘ä¸‹è½½å¯é€‰æ¨¡å‹ã€‚

**ç¥ä¸‹è½½é¡ºåˆ©ï¼** ğŸ‰
